<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
            margin: 0;
            padding: 0;
        }
        .smallPic{
            width: 350px;
            height: 350px;
            border: 1px solid #ccc;
            margin: 100px;
            background: url(img/e1.jpg) no-repeat;
            position: relative;
        }
        .smallPic .zoom{
            position: absolute;
            top: 100px;
            left: 100px;
            width: 175px;
            height: 175px;
            background: #ffde4e;
            opacity: .5;
            display: none;
        }
        .bigPic{
            width: 400px;
            height: 400px;
            background: url("img/e2.jpg") no-repeat;
            position: absolute;
            top:100px;
            left: 500px;
            border: 1px solid black;
            display: none;
        }
        #box{
        	width: 350px;
        	height: 52px;
        	position: relative;
        	top: -95px;
        	left: 100px;

        }
        #outer{
        	width: 288px;
        	height: 52px;
        	overflow: hidden;
        	position: relative;
        	left: 31px;
        }
        .Ul{
        	width: 354px;
        	height: 52px;
        	position: absolute;
        	list-style: none;

        }
        .Ul li{
        	float: left;
        	width: 50px;
        	height: 50px;
        	margin-right: 7px;
        	border: 1px solid transparent;
        }  
        #oLeft{
        	position: absolute;
        	left: 3px;
        	top: 10px;
        	width: 22px;
        	height: 32px;
        	background: url(img/left.png) no-repeat 100% 100%;
        }
        #oRight{
        	position: absolute;
        	right: 3px;
        	top: 10px;
        	width: 22px;
        	height: 32px;
        	background: url(img/right.png) no-repeat;
        	background-position: -78px 0;
        }
		</style>
	</head>
	<body>
		<div id="smallPic" class="smallPic">
			<div id="zoom" class="zoom"></div>
		</div>
		<div id="bigPic" class="bigPic"></div>
		<div id="box">
			<span id="oLeft"></span>
			<div id="outer">
				<ul id="Ul" class="Ul">
					<li><img src="img/e.jpg"/></li>
					<li><img src="img/a.jpg"/></li>
					<li><img src="img/b.jpg"/></li>
					<li><img src="img/c.jpg"/></li>
					<li><img src="img/d.jpg"/></li>
					<li><img src="img/e.jpg"/></li>
				</ul>
			</div>
			<span id="oRight"></span>
		</div>
	</body>
	<script type="text/javascript">
    var smallPic=document.getElementById("smallPic");
    var zoom=document.getElementById("zoom");
    var bigPic=document.getElementById("bigPic");

    var rate=400/177;
    smallPic.onmouseover=function () {
        zoom.style.display="block";
        bigPic.style.display="block";
    }
    smallPic.onmouseout=function () {
        zoom.style.display="none";
        bigPic.style.display="none";
    }

    smallPic.onmousemove=function (event) {
        event=event||window.event;
        var scrollTop=document.body.scrollTop||document.documentElement.scrollTop;
        var scrollLeft=document.body.scrollTop||document.documentElement.scrollLeft;
        var x=event.clientX-(getAllLeft(smallPic)-scrollLeft)-87;
        var y=event.clientY-(getAllTop(smallPic)-scrollTop)-87;
        if(x<0) x=0;
        if(x> smallPic.clientWidth - zoom.clientWidth){
            x= smallPic.clientWidth - zoom.clientWidth;
        }
        if(y<0) y=0;
        if(y> smallPic.clientWidth - zoom.clientWidth){
            y= smallPic.clientWidth - zoom.clientWidth;
        }
        zoom.style.top=y+"px";
        zoom.style.left=x+"px";
        bigPic.style.backgroundPosition=(-x*rate)+"px "+(-y*rate)+"px";
    };
    function getAllLeft(obj) {
        var allLeft=obj.offsetLeft;
        var currentObj=obj;
        while (currentObj=currentObj.offsetParent){
            allLeft+=currentObj.offsetLeft;
        }
        return allLeft;
    }
    function getAllTop(obj) {
        var allTop=obj.offsetTop;
        var currentObj=obj;
        while (currentObj=currentObj.offsetParent){
            allTop+=currentObj.offsetTop;
        }
        return allTop;
    }
    var oLeft=document.getElementById("oLeft");
    var oRight=document.getElementById("oRight"); 
    var Ul=document.getElementById("Ul");
    var Lis=Ul.getElementsByTagName("li");

    oLeft.onclick=function(){
    	Ul.style.left=-59+"px";
    }
    
    oRight.onclick=function(){
    	Ul.style.left=0+"px";
    }
    for(var i=0;i<Lis.length;i++){
    	Lis[i].addEventListener("mouseover",function(){
	    	for(var j=0;j<Lis.length;j++){
	    	Lis[j].style.borderColor="transparent";
	    	}
	    	this.style.borderColor="red";
	    },false)
    }
    Lis[0].onmouseover=function(){
    	smallPic.style.background="url('img/e1.jpg') no-repeat";
    	bigPic.style.background="url('img/e2.jpg') no-repeat";
    }
    Lis[1].onmouseover=function(){
    	smallPic.style.background="url('img/a1.jpg') no-repeat";
    	bigPic.style.background="url('img/a2.jpg') no-repeat";
    }
    Lis[2].onmouseover=function(){
    	smallPic.style.background="url('img/b1.jpg') no-repeat";
    	bigPic.style.background="url('img/b2.jpg') no-repeat";
    }
    Lis[3].onmouseover=function(){
    	smallPic.style.background="url('img/c1.jpg') no-repeat";
    	bigPic.style.background="url('img/c2.jpg') no-repeat";
    }
    Lis[4].onmouseover=function(){
    	smallPic.style.background="url('img/d1.jpg') no-repeat";
    	bigPic.style.background="url('img/d2.jpg') no-repeat";
    }
    Lis[5].onmouseover=function(){
    	smallPic.style.background="url('img/e1.jpg') no-repeat";
    	bigPic.style.background="url('img/e2.jpg') no-repeat";
    }
</script>
</html>
