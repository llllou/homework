<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	*{
		padding: 0;
		margin:0;
	}
        #smallpic{
        	width: 350px;
        	height: 350px;
        	border:3px solid red;
        	position: relative;
        	margin: 100px;
        	background: url(666.jpg) no-repeat;
        }
       #odiv{
       	width: 175px;
       	height: 175px;
       	position: absolute;
       	left: 100px;
       	top: 100px;
       	background-color: skyblue;
       	opacity:0.5;
       	display: none;
       }
       
       #bigpic{
       	width: 400px;
       	height: 400px;
       	border:3px solid blue;
       	position: absolute;
       	left: 500px;
       	top: 100px;
       	display: none;
       	 background:url(555.jpg) no-repeat;
       }
       #odiv1{
       	width: 80px;
       	height: 80px;
       	border:1px solid red;
       
       	position: absolute;
       	top:500px;
       	left: 100px;
       }
       #odiv1 img{
       	width: 80px;
       	height: 80px;
       }
        #odiv2{
       	width: 80px;
       	height: 80px;
       	border:1px solid red;
      
       	position: absolute;
       	top:500px;
       	left: 190px;
       }
         #odiv2 img{
       	width: 80px;
       	height: 80px;
       }
        #odiv3{
       	width: 80px;
       	height: 80px;
       	border:1px solid red;
     
       	position: absolute;
       	top:500px;
       	left: 280px;
       }
         #odiv3 img{
       	width: 80px;
       	height: 80px;
       }
        #odiv4{
       	width: 80px;
       	height: 80px;
       	border:1px solid red;
       
       	position: absolute;
       	top:500px;
       	left: 370px;
       }
         #odiv4 img{
       	width: 80px;
       	height: 80px;
       }
	</style>
</head>
<body>
	<div id="smallpic">

     <div id="odiv">
     	
     </div>
	</div>
	<div id="bigpic">

	</div>

	<div id="odiv1">
		<img src="111.jpg" alt="">
	</div>
	<div id="odiv2">
		<img src="222.jpg" alt="">
	</div>
	<div id="odiv3">
		<img src="333.jpg" alt="">
	</div>
	<div id="odiv4">
		<img src="444.jpg" alt="">
	</div>
</body>
<script type="text/javascript">
	var smallpic=document.getElementById("smallpic");
	var odiv=document.getElementById("odiv");
	var bigpic=document.getElementById("bigpic");
	smallpic.onmouseover=function(){
		odiv.style.display="block";
		bigpic.style.display="block";
	}

	smallpic.onmouseout=function(){
		odiv.style.display="none";
		bigpic.style.display="none";
	}

	smallpic.onmousemove=function(event){
            event = event || window.event;

            var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
            var scrollLeft = document.body.scrollLeft || document.documentElement.scrollLeft;

         
            var x = event.clientX - (getAllLeft(smallpic)-scrollLeft)-87;
            var y = event.clientY - (getAllTop(smallpic)-scrollTop)-87;


           
            if(x<0) x=0;
            if(y<0) y=0;
            if(x>smallpic.clientWidth-odiv.clientWidth){
            	x=smallpic.clientWidth-odiv.clientWidth;
            }
            if(y>smallpic.clientHeight-odiv.clientHeight){
            	y=smallpic.clientHeight-odiv.clientHeight;
            } 
            odiv.style.top = y +"px";
            odiv.style.left = x +"px";
             var rate=400/175;
            bigpic.style.backgroundPosition=-x*rate+"px"+" "+-y*rate+"px";

        }

        odiv1.onmouseover=function(){
        	smallpic.style.background="url(111.jpg)";
        	bigpic.style.background="url(555.jpg)";
        }
         odiv2.onmouseover=function(){
        	smallpic.style.background="url(222.jpg)";
        	bigpic.style.background="url(666.jpg)";
        }
         odiv3.onmouseover=function(){
        	smallpic.style.background="url(333.jpg)";
        	bigpic.style.background="url(777.jpg)";
        }
         odiv4.onmouseover=function(){
        	smallpic.style.background="url(444.jpg)";
        	bigpic.style.background="url(888.jpg)";
        }


        function getAllTop(obj){
          

            var allTop = obj.offsetTop;

            
            var currentObj = obj;

            while(currentObj =currentObj.offsetParent){
                allTop+=currentObj.offsetTop;
            }

            return allTop;

        }
        function getAllLeft(obj){
           

            var allLeft = obj.offsetLeft;

            
            var currentObj = obj;

            while(currentObj =currentObj.offsetParent){
                allLeft+=currentObj.offsetLeft;
            }

            return allLeft;

        }


</script>
</html>