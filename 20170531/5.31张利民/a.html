<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <style type="text/css">
            *{
                padding:0;
                margin:0;
            }
            .rolling{
                position: relative;
                width:300px;
                height: 130px;
                border:10px solid red;
                margin:100px auto;
                overflow: hidden;
            }
            .img{
                position:absolute;
                width:5000px;
                top:0;
                left:0;
            }
            .rolling ul{
                list-style: none;
            }
            .rolling ul li{
                float:left;
                margin-right: 10px;
            }
        </style>
    </head>
    <body>
        <div id="rolling" class="rolling">
            <div id="img" class="img">
                <ul>
                    <li><a href="#"><img src="image/0.png" alt=""></a></li>
                    <li><a href="#"><img src="image/1.png" alt=""></a></li>
                    <li><a href="#"><img src="image/2.png" alt=""></a></li>
                    <li><a href="#"><img src="image/3.png" alt=""></a></li>
                    <li><a href="#"><img src="image/4.png" alt=""></a></li>
                    <li><a href="#"><img src="image/5.png" alt=""></a></li>
                    <li><a href="#"><img src="image/6.png" alt=""></a></li>
                    <li><a href="#"><img src="image/7.png" alt=""></a></li>
                </ul>
            </div>
        </div>
        <button>左面</button>
        <button>右面</button>
    </body>
    <script type="text/javascript">
        var rolling =document.getElementById("rolling");
        var img =document.getElementById("img");
        var lisUl =img.getElementsByTagName("ul")[0];
        var lis = lisUl.getElementsByTagName("li");
        var oBtn1 = document.getElementsByTagName("button")[0];
        var oBtn2 = document.getElementsByTagName("button")[1];
    move();

    //得到图片的数量  计算折返点用  210*图片数量
    var lisLength = lis.length;

    //复制一倍的li
    lisUl.innerHTML+=lisUl.innerHTML;
    // lisUl.innerHTML=lisUl.innerHTML+lisUl.innerHTML;

    //信号量
    var newLeft = 0;
    var num = -3;
    var timer;

    //移入事件  移入停止
    rolling.onmouseover=function(){
    clearInterval(timer);
    }
    //移出事件   激活定时器
    rolling.onmouseout=function(){
    move();
    }
    //点击按钮1 向左移动 变量num是负值
    oBtn1.onclick = function(){
    num=-3;

    }
    //点击按钮2 向右移动 变量num是正值
    oBtn2.onclick = function(){
    num=3;

    }
    function move(){
    //设表先停
    clearInterval(timer);

    timer=setInterval(function(){
    newLeft+= num;

    if(newLeft < -210*lisLength){
    newLeft=0;
    }
    if(newLeft>0){
    newLeft=-210*lisLength;
    }
    img.style.left = newLeft + 'px';

    },20);
    }
    </script>
</html>